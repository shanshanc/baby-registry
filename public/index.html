<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L6HR5QCC1M"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-L6HR5QCC1M');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>Baby Registry</title>
    <link rel="icon" href="img/heart.png">
    <!-- <link rel="stylesheet" href="header.css"> -->
    <!-- <link rel="stylesheet" href="sidebar.css"> -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap">
    <!-- Preload critical assets -->
    <!-- Commented out - no longer needed for stork animation page -->
    <!-- <link rel="preload" href="js/constants.js" as="script" crossorigin="anonymous"> -->
    <!-- <link rel="preload" href="js/imageOptimizer.js" as="script" crossorigin="anonymous"> -->
    <!-- <link rel="preload" href="js/scripts.js" as="script" crossorigin="anonymous"> -->
    <!-- <link rel="preload" href="js/types.js" as="script" crossorigin="anonymous"> -->
    <!-- <link rel="preload" href="header.css" as="style"> -->
    <!-- <link rel="preload" href="sidebar.css" as="style"> -->
    <link rel="preload" href="styles.css" as="style">
    <!-- Debug utilities - loaded based on environment -->
    <script>
        // Only load debug tools in development or when explicitly requested
        if (
            window.location.hostname === 'localhost' || 
            window.location.hostname === '127.0.0.1' || 
            window.location.hostname.includes('.local') ||
            window.location.hostname.includes('staging') ||
            window.location.protocol === 'file:' ||
            window.location.search.includes('debug=true')
        ) {
            const debugScript = document.createElement('script');
            debugScript.src = 'js/debug.js';
            document.head.appendChild(debugScript);
        }
    </script>
    <!-- Defer non-critical scripts -->
    <!-- Commented out - no longer needed for stork animation page -->
    <!-- <script src="js/constants.js" type="module"></script> -->
    <!-- <script src="js/stateManager.js" type="module"></script> -->
    <!-- <script src="js/imageOptimizer.js" type="module"></script> -->
    <!-- <script src="js/sidebar.js" type="module"></script> -->
    <!-- <script src="js/scripts.js" type="module" defer></script> -->
    <!-- <script src="js/types.js" type="module" defer></script> -->
    <!-- Register service worker -->
    <script>
        // Only register service worker in production environments
        const isDevEnvironment = 
            window.location.hostname === 'localhost' || 
            window.location.hostname === '127.0.0.1' || 
            window.location.hostname.includes('.local') ||
            window.location.hostname.includes('staging') ||
            window.location.protocol === 'file:' ||
            window.location.search.includes('debug=true');

        if ('serviceWorker' in navigator && !isDevEnvironment) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        } else if ('serviceWorker' in navigator) {
            // Unregister any existing service workers in development
            navigator.serviceWorker.getRegistrations().then(registrations => {
                for (let registration of registrations) {
                    registration.unregister();
                    console.log('ServiceWorker unregistered for development');
                }
            });
        }
    </script>
    <!-- Stork animation initialization -->
    <script>
        function initStorkAnimation() {
            const stork = document.querySelector('.stork');
            if (stork) {
                // Add 'landed' class after animation completes (4 seconds)
                setTimeout(() => {
                    stork.classList.add('landed');
                    
                    // Make wings flap periodically every 15 seconds after landing
                    setInterval(() => {
                        // Remove 'landed' class to start flapping
                        stork.classList.remove('landed');
                        
                        // Flap for about 1 second, then stop again
                        setTimeout(() => {
                            stork.classList.add('landed');
                        }, 1000);
                    }, 15000); // Every 15 seconds
                }, 4000);
            }
        }
        window.addEventListener('load', initStorkAnimation);
    </script>
</head>
<body>
    <h1 class="title">Oliver is here!</h1>
    <div class="container">
      <!-- Stork Animation -->
      <div class="stork-animation-container">
        <div class="branch"></div>
        <div class="stork">
          <div class="stork-body"></div>
          <div class="stork-head">
            <div class="stork-beak">
              <div class="stork-olive-branch"></div>
            </div>
            <div class="stork-eye"></div>
          </div>
          <div class="stork-wing stork-wing-left"></div>
          <div class="stork-wing stork-wing-right"></div>
          <div class="stork-legs">
            <div class="stork-leg stork-leg-left"></div>
            <div class="stork-leg stork-leg-right"></div>
          </div>
        </div>
      </div>
      <footer class="footer">
          <p>&copy; 2025 Daphne &amp; Hsin</p>
      </footer>
    </div>
</body>
</html>
